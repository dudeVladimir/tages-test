(function(){var e={2993:function(e,t,r){"use strict";function i(e){return void 0!==e&&null!==e&&"object"===typeof e&&!Array.isArray(e)}function n(e){const t=null!=e?Number(e):null;return Number.isFinite(t)}function o(e){const t={};return e.keys().forEach((r=>{const i=r.split("/"),n=i[i.length-1],o=n.split(".")[0];t[o]=e(r).default})),t}function a(e,t){i(t)&&Object.keys(t).forEach((r=>{e.component(r,t[r])}))}function l(e,t){return Math.floor(Math.random()*(t-e)+e)}r.d(t,{HE:function(){return o},Hq:function(){return l},Kn:function(){return i},Of:function(){return a},hj:function(){return n}})},4517:function(e,t,r){"use strict";var i=r(9242),n=r(3396),o=r(7139);const a={class:"breadcrumbs-container"},l={class:"breadcrumbs-container__content"},s={key:0,class:"breadcrumbs-list"},c={class:"breadcrumb-body"},u={key:0,class:"breadcrumb-separator ml-3"};var d={__name:"TheBreadcrumbs",props:{items:{type:Array,default:()=>[]}},setup(e){const t=(e,t)=>{if(Number.isInteger(e)&&Number.isInteger(t)){const r=t-1;return r<0?(console.warn("lastIdx is less than 0"),!1):e===r}return!1};return(r,i)=>((0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",l,[e.items?.length?((0,n.wg)(),(0,n.iD)("ul",s,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.items,((r,i)=>((0,n.wg)(),(0,n.iD)("li",{key:i,class:(0,o.C_)(["breadcrumbs-list__item ui-text-m-1",{active:t(i,e.items.length)}])},[(0,n._)("div",c,(0,o.zw)(r.title),1),t(i,e.items.length)?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",u,"/"))],2)))),128))])):(0,n.kq)("",!0)])]))}},m=r(89);const p=(0,m.Z)(d,[["__scopeId","data-v-495fdfb8"]]);var v=p;const _={class:"header-container"},g={class:"header-container__content default-layout-content py-8"};var f={__name:"TheHeader",setup(e){const t=[{title:"Главная"},{title:"Системы хранения"},{title:"Комплекты стеллажных систем"}];return(e,r)=>((0,n.wg)(),(0,n.iD)("header",_,[(0,n._)("div",g,[(0,n.Wm)(v,{items:t})])]))}};const y=(0,m.Z)(f,[["__scopeId","data-v-19fbd350"]]);var b=y,h=r(65),w=r(4870),I=r(2993);const L={class:"goods-filter"},k={class:"goods-filter__content"};var D={__name:"GoodsFilter",props:{modelValue:{type:Object,default:()=>({sort:null,material:null})}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,i=t,o=(0,h.oR)(),a=(0,n.Fl)({get(){return r.modelValue},set(e){i("update:modelValue",e)}}),l=(0,n.Fl)((()=>o.getters["goods/getMaterialList"])),s=(0,w.iH)([{id:"price_increase",name:"Цена по возрастанию"},{id:"price_decrease",name:"Цена по убыванию"}]),c=e=>e?.id,u=e=>e?.name;return(e,t)=>{const r=(0,n.up)("UiSelect");return(0,n.wg)(),(0,n.iD)("div",L,[(0,n._)("div",k,[(0,n.Wm)(r,{modelValue:a.value.sort,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value.sort=e),title:"Сортировать по:",items:s.value,"item-value":c,"item-text":u},null,8,["modelValue","items"]),(0,n.Wm)(r,{modelValue:a.value.material,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value.material=e),title:"Материал",items:l.value,"item-value":c,"item-text":u},null,8,["modelValue","items"])])])}}};const O=(0,m.Z)(D,[["__scopeId","data-v-6f62caef"]]);var S=O;r(560);const x={class:"goods-item"},A={class:"goods-item__content"},F={class:"goods-img"},j={class:"goods-description"},q={class:"goods-description__info"},H=["title"],V=["title"],U={key:2,class:"goods-price ui-text-m-1"},N={key:0,class:"goods-price__old"},W={key:1,class:"goods-price__current"},C={class:"goods-description__tools"},M={key:0,class:"goods-item__flag goods-item__flag_sale pro-text-s-2"};var z={__name:"GoodsItem",props:{item:{type:Object,default:null,required:!0}},setup(e){const t=e,r=(0,h.oR)(),i=(0,n.Fl)((()=>r.getters["goods/getCartIdList"])),a=(0,n.Fl)((()=>r.getters["goods/getFavoriteIdList"])),l=(0,n.Fl)((()=>{const e=[],{name:r,code:i}=t.item;return r&&e.push(r),i&&e.push(i),e.length?e.join(": "):"Не удалось загрузить изображение"})),s=(0,n.Fl)((()=>{const{price:e}=t.item;if(!(0,I.Kn)(e))return!1;const{old_price:r}=e;return(0,I.hj)(r)})),c=(0,n.Fl)((()=>i.value?.includes(t.item?.id))),u=(0,n.Fl)((()=>a.value?.includes(t.item?.id))),d=()=>{r.commit("goods/toCartHandler",t.item?.id)},m=()=>{r.commit("goods/toFavoriteHandler",t.item?.id)};return(t,r)=>{const i=(0,n.up)("UiImg"),a=(0,n.up)("UiIconButton");return(0,n.wg)(),(0,n.iD)("div",x,[(0,n._)("div",A,[(0,n._)("div",F,[(0,n.Wm)(i,{src:e.item.image.url,alt:l.value},null,8,["src","alt"])]),(0,n._)("div",j,[(0,n._)("div",q,[e.item.code?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"goods-code text-ellipsis ui-text-xs-1 fs-10",title:e.item.code},(0,o.zw)(e.item.code),9,H)):(0,n.kq)("",!0),e.item.name?((0,n.wg)(),(0,n.iD)("div",{key:1,class:"goods-title text-ellipsis ui-text-m-2",title:e.item.name},(0,o.zw)(e.item.name??"—"),9,V)):(0,n.kq)("",!0),e.item.price?((0,n.wg)(),(0,n.iD)("div",U,[(0,w.SU)(I.hj)(e.item.price.old_price)?((0,n.wg)(),(0,n.iD)("div",N,(0,o.zw)(e.item.price.old_price)+" ₽ ",1)):(0,n.kq)("",!0),(0,w.SU)(I.hj)(e.item.price.current_price)?((0,n.wg)(),(0,n.iD)("div",W,(0,o.zw)(e.item.price.current_price)+" ₽ ",1)):(0,n.kq)("",!0)])):(0,n.kq)("",!0)]),(0,n._)("div",C,[(0,n.Wm)(a,{icon:c.value?"circle-checked":"cart",color:c.value?"var(--success-color)":null,onClick:d},null,8,["icon","color"]),(0,n.Wm)(a,{icon:"heart",color:u.value?"var(--attention-color)":null,onClick:m},null,8,["color"])])])]),s.value?((0,n.wg)(),(0,n.iD)("div",M,"Скидка")):(0,n.kq)("",!0)])}}};const T=(0,m.Z)(z,[["__scopeId","data-v-944ef76c"]]);var E=T;const P={class:"goods-layout"},Z={class:"goods-layout__content default-layout-content pb-5"},K={class:"goods-header"},J={class:"goods-header__text pro-heading-m-1 mb-8"},B={class:"goods-body"},R={key:0,class:"goods-list"};var $={__name:"GoodsLayout",props:{header:{type:String,default:null,requred:!0}},setup(e){const t=(0,h.oR)(),r=(0,w.iH)({sort:null,material:null}),i=(0,n.Fl)((()=>t.getters["goods/getItemList"].filter((e=>(0,I.Kn)(e))))),a=(0,n.Fl)((()=>{const e=Array.isArray(i.value)?[...i.value]:[],{sort:t,material:n}=r.value;return t&&e.sort(((e,r)=>{const i=e?.price?.current_price,n=r?.price?.current_price;if("price_increase"===t){if(i<n)return-1;if(i>n)return 1}if("price_decrease"===t){if(i>n)return-1;if(i<n)return 1}return 0})),n?e.filter((e=>{const t=e.material,r=null!=n?Number(n):null;return!(0,I.hj)(r)||t===Number(n)})):e})),l=(0,w.iH)(!1),s=async()=>{try{await t.dispatch("goods/loadItemList")}catch(e){console.error(e)}},c=async()=>{try{await t.dispatch("goods/loadMaterialList")}catch(e){console.error(e)}},u=()=>{l.value=!0,Promise.all([s(),c()]).finally((()=>{l.value=!1}))};return u(),(t,i)=>((0,n.wg)(),(0,n.iD)("div",P,[(0,n._)("div",Z,[(0,n._)("div",K,[(0,n._)("div",J,(0,o.zw)(e.header),1),(0,n.Wm)(S,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=e=>r.value=e),class:"goods-filter-container"},null,8,["modelValue"])]),(0,n._)("section",B,[a.value.length?((0,n.wg)(),(0,n.iD)("ul",R,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:e.id??t,class:"goods-list__item"},[(0,n.Wm)(E,{item:e},null,8,["item"])])))),128))])):(0,n.kq)("",!0)])])]))}};const G=(0,m.Z)($,[["__scopeId","data-v-c7d75274"]]);var Y=G;const Q={class:"app-container"},X={class:"app-container__content"},ee={class:"app-body"};var te={__name:"App",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Q,[(0,n._)("div",X,[(0,n.Wm)(b,{class:"app-header"}),(0,n._)("main",ee,[(0,n.Wm)(Y,{class:"app-body__content app-body__content_goods",header:"Комплекты стеллажных систем"})])])]))}};const re=te;var ie=re,ne=JSON.parse('[{"id":"1","name":"Ручка дверная","code":"L422WH","price":{"old_price":400,"current_price":355},"image":{"url":"/pic/pic1.png"},"material":1},{"id":"2","name":"Ручка, нержавеющ сталь","code":"L423WH","price":{"old_price":400.9,"current_price":355.555},"image":{"url":"/pic/pic2.png"},"material":2},{"id":"3","name":"Стандартные петли","code":"P424WN","price":{"old_price":null,"current_price":75},"image":{"url":"/pic/pic3.png"},"material":2},{"id":"4","name":"Петля со стопором","code":"PW5AC","price":{"old_price":270,"current_price":200},"image":{"url":"/pic/pic4.png"},"material":2},{"id":"5","name":"Ручка дверная","code":"LM352","price":{"old_price":null,"current_price":720},"image":{"url":"/pic/pic1.png"},"material":1},{"id":"6","name":"Ручка, нержавеющ сталь","code":null,"price":{"old_price":null,"current_price":355.555},"image":{"url":"/pic/pic2.png"},"material":2},{"id":"7","name":"Стандартные петли","code":"WD14LK","price":{"old_price":null,"current_price":75},"image":{"url":"/pic/pic3.png"},"material":2},{"id":"8","name":"Петля со стопором","code":null,"price":{"old_price":1200,"current_price":900},"image":{"url":"/pic/pic4.png"},"material":2}]'),oe=JSON.parse('[{"id":"1","name":"Дерево"},{"id":"2","name":"Металл"}]');const ae=JSON.parse(localStorage.getItem("favoriteIdList")),le=JSON.parse(localStorage.getItem("cartIdList")),se=(e,t=[])=>t?.findIndex((t=>t===e))??-1;var ce={namespaced:!0,state:()=>({favoriteIdList:Array.isArray(ae)?ae:[],cartIdList:Array.isArray(le)?le:[],itemList:[],materialList:[]}),getters:{getItemList(e){return e.itemList},getMaterialList(e){return e.materialList},getFavoriteIdList(e){return e.favoriteIdList},getCartIdList(e){return e.cartIdList}},mutations:{setItemList(e,t){Array.isArray(t)?e.itemList=t:console.warn("list is not array")},setMaterialList(e,t){Array.isArray(t)?e.materialList=t:console.warn("list is not array")},toCartHandler(e,t){const{cartIdList:r}=e;if(!Array.isArray(r))return void console.error("cartIdList is not array");const i=[...r],n=se(t,r);-1===n?i.push(t):i.splice(n,1),e.cartIdList=i,localStorage.setItem("cartIdList",JSON.stringify(i))},toFavoriteHandler(e,t){const{favoriteIdList:r}=e;if(!Array.isArray(r))return void console.error("favoriteIdList is not array");const i=[...r],n=se(t,r);-1===n?i.push(t):i.splice(n,1),e.favoriteIdList=i,localStorage.setItem("favoriteIdList",JSON.stringify(i))}},actions:{loadItemList({commit:e}){return new Promise(((t,r)=>{Array.isArray(ne)?(e("setItemList",ne),t(ne)):r(new Error("items is not array"))}))},loadMaterialList({commit:e}){return new Promise(((t,r)=>{Array.isArray(oe)?(e("setMaterialList",oe),t(oe)):r(new Error("materials is not array"))}))}}},ue=(0,h.MT)({modules:{goods:ce}});const de=(0,I.HE)(r(5384)),me=(0,i.ri)(ie).use(ue);(0,I.Of)(me,de),me.mount("#app")},7023:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var i=r(3396),n=r(7139);const o={class:"ui-icon-button__content"};var a={__name:"UiIconButton",props:{icon:{type:String,default:null,required:!0},color:{type:String,default:null},size:{type:String,default:null}},setup(e){const t=e,r=(0,i.Fl)((()=>({color:t.color,fontSize:t.size})));return(t,a)=>((0,i.wg)(),(0,i.iD)("button",{class:"ui-icon-button",style:(0,n.j5)(r.value)},[(0,i._)("div",o,[(0,i._)("div",{class:(0,n.C_)(["icon",`icon-${e.icon}`])},null,2)])],4))}},l=r(89);const s=(0,l.Z)(a,[["__scopeId","data-v-3dafd5d7"]]);var c=s},3897:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var i=r(3396);const n={class:"ui-img"},o=["src","alt"];var a={__name:"UiImg",props:{src:{type:String,default:null,requred:!0},alt:{type:String,default:null,requred:!0}},setup(e){const t=!0,r=e,a=(0,i.Fl)((()=>r.src?t?`/tages-test${r.src}`:r.src:(console.error("src is not found"),null)));return(t,r)=>((0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("img",{class:"ui-img__img-content",src:a.value,alt:e.alt},null,8,o)]))}},l=r(89);const s=(0,l.Z)(a,[["__scopeId","data-v-3aa6d90e"]]);var c=s},3607:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var i=r(3396),n=r(7139),o=r(4870),a=r(2993);const l=e=>((0,i.dD)("data-v-255c4d0b"),e=e(),(0,i.Cn)(),e),s={class:"ui-select"},c=["for"],u={key:0,class:"select-title pro-text-xs-1 pl-4"},d={class:"select-body"},m=["value","id"],p=l((()=>(0,i._)("option",{class:"select-block__option",value:"__null",selected:""}," Не выбрано ",-1))),v=["value"];var _={__name:"UiSelect",props:{modelValue:{},title:{type:String,default:null},items:{type:Array,default:()=>[]},itemValue:{type:Function,default:null,required:!0},itemText:{type:Function,default:null,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const r=t,l=(0,o.iH)(`${(0,a.Hq)(1,10**8)}-${(new Date).getTime()}`),_=(0,o.iH)(null),g=()=>{if(_.value){const{value:e}=_.value;r("update:modelValue","__null"===e?null:e)}};return(t,r)=>((0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("label",{for:l.value,class:"ui-select__content"},[e.title?((0,i.wg)(),(0,i.iD)("div",u,(0,n.zw)(e.title),1)):(0,i.kq)("",!0),(0,i._)("div",d,[(0,i._)("select",{value:e.modelValue,ref_key:"selectRef",ref:_,id:l.value,class:"select-block pro-text-s-1",onChange:g},[p,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.items,((t,r)=>((0,i.wg)(),(0,i.iD)("option",{key:r,class:"select-block__option",value:e.itemValue(t)},(0,n.zw)(e.itemText(t)),9,v)))),128))],40,m)])],8,c)]))}},g=r(89);const f=(0,g.Z)(_,[["__scopeId","data-v-255c4d0b"]]);var y=f},5384:function(e,t,r){var i={"./buttons/UiIconButton.vue":7023,"./img/UiImg.vue":3897,"./inputs/UiSelect.vue":3607};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id=5384}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,i,n,o){if(!i){var a=1/0;for(u=0;u<e.length;u++){i=e[u][0],n=e[u][1],o=e[u][2];for(var l=!0,s=0;s<i.length;s++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](i[s])}))?i.splice(s--,1):(l=!1,o<a&&(a=o));if(l){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,n,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,o,a=i[0],l=i[1],s=i[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(s)var u=s(r)}for(t&&t(i);c<a.length;c++)o=a[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},i=self["webpackChunktages_test"]=self["webpackChunktages_test"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(4517)}));i=r.O(i)})();
//# sourceMappingURL=app.5e77f1b1.js.map